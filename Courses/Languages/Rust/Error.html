<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"/> <meta name="viewport" content="width=device-width,initial-scale=1"/> <title>Error</title> <link rel="stylesheet" href="https://grimoire.quantinium.dev/static/styles.css"/> <link rel="icon" href="/static/pfp.svg"/> <meta property="og:site_name" content="Quantinium"/> <meta property="og:title" content="Error"/> <meta property="og:type" content="website"/> <meta name="twitter:card" content="summary_large_image"/> <meta name="twitter:title" content="Error"/> <meta name="og:url" content="https://grimoire.quantinium.dev/Courses/Languages/Rust/Error.md"/> <meta name="twitter:url" content="https://grimoire.quantinium.dev/Courses/Languages/Rust/Error.md"/> <meta name="generator" content="grimoire"/> <meta name="twitter:domain" content="https://grimoire.quantinium.dev/"/> <meta property="og:type" content="article"/> <meta name="keywords" content="#Rust/Errors, Rust, Rust/Result"/> <link rel="canonical" href="https://grimoire.quantinium.dev/Courses/Languages/Rust/Error.html"/> <meta property="og:url" content="https://grimoire.quantinium.dev/Courses/Languages/Rust/Error.html"/> <meta property="og:image:type" content="image/png"/> <meta property="og:image:alt" content="Error"/> <meta property="og:image:url" content="https://grimoire.quantinium.dev/static/error.md488135-og.png"/> <meta property="og:image" content="https://grimoire.quantinium.dev/static/error.md488135-og.png"/> <meta property="og:image:width" content="1200"/> <meta property="og:image:height" content="630"/> <meta name="twitter:image" content="https://grimoire.quantinium.dev/static/error.md488135-og.png"/> <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.1.0"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/regular/style.css"/> <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/fill/style.css"/> </head> <body> <div class="container"> <div class="sidebar"> <div class="sidebar-inner"> <h1 class="owner"><a href="/">Quantinium</a></h1> <div class="sidebar-theme-toggle"> <button class="theme-toggle" onclick="toggleTheme(!0)" aria-label="Toggle Theme"> <i class="ph ph-sun"></i> </button> <button class="search-button" onclick="openSearch()" aria-label="Open Search"> <i class="ph ph-magnifying-glass"></i> </button> <button class="pdf-button" onclick="printPage()" aria-label="Print Page"> <i class="ph ph-file-pdf"></i> </button> </div> <div id="file-tree" class="file-tree"></div> <div class="divider" draggable="true"></div> </div> </div> <div class="content" role="main"> <nav class="top-navbar"> <div class="top-navbar-left"> <button class="sidebar-toggle" onclick="toggleNav()" aria-label="Toggle Sidebar"> <i class="ph ph-list"></i> </button> <img class="profile-picture" src="/static/pfp.svg" alt="pfp"/> <a href="/">Quantinium</a> </div> <div class="top-navbar-right"> <button class="search-button" onclick="openSearch()" aria-label="Open Search"> <i class="ph ph-magnifying-glass"></i> </button> <button class="theme-toggle" onclick="toggleTheme(!0)" aria-label="Toggle Theme"> <i class="ph ph-sun"></i> </button> <button class="pdf-button" onclick="printPage()" aria-label="Print Page"> <i class="ph ph-file-pdf"></i> </button> </div> </nav> <div class="content-container"> <div class="content-container-inner"> <div class="page-content"> <h1>Error</h1> <div class="page-tags"> <span class="tag">#Rust/Errors</span> <span class="tag">Rust</span> <span class="tag">Rust/Result</span> </div> <article class="markdown-content"> <h2 id="error-handling">Error Handling</h2> <p>Rust takes a robust and thoughtful approach to handling errors, recognizing that errors are an inevitable part of software engineering.</p> <p>Rust groups error in two categories -</p> <ul> <li>Recoverable - such as <code>file not found</code> error. This is recoverable and can be done automatically or reported to user.</li> <li>Non-Recoverable - They are symptoms of bugs, such as trying to access location beyond the end of array.</li> </ul> <h3 id="unrecoverable-error">Unrecoverable Error</h3> <p>Sometimes bad things may happen and we want a way to just exit and display what bad has happened. For this rust has a <code>panic!</code> macro. There are two ways to cause a panic in practice: by taking an action that causes our code to panic (such as accessing an array past the end) or by explicitly calling the <code>panic!</code> macro.</p> <p>panic prints a failure message, unwind and clean up the stack and quit.</p> <pre class="language-rust"><code class="language-rust code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    <span class="token macro property">panic!</span><span class="token punctuation">(</span><span class="token string">"crash and burn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3"><span class="token punctuation">}</span>
</span></code></pre> <h3 id="recoverable-error">Recoverable Error</h3> <p>Most error aren't serious enough to require the program to stop entirely. Sometimes if something fails we can somewhat guess why it may fail and can therefore handle it.</p> <p>Rust implements a <code>Result&#x3C;T, E></code> enum to handle potential errors.</p> <pre class="language-rust"><code class="language-rust code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">enum</span> <span class="token type-definition class-name">Result</span><span class="token operator">&#x3C;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">E</span><span class="token operator">></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="3">    <span class="token class-name">Err</span><span class="token punctuation">(</span><span class="token class-name">E</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4"><span class="token punctuation">}</span>
</span></code></pre> <p>Here <code>T</code> represents the type of the value that will be returned in a success case within the <code>Ok</code> variant, and <code>E</code> represents the type of error that will be returned in a failure case.</p> <p>For example while opening a file</p> <pre class="language-rust"><code class="language-rust code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>fs<span class="token punctuation">::</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword">let</span> greeting_file_result <span class="token operator">=</span> <span class="token class-name">File</span><span class="token punctuation">::</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6">    <span class="token keyword">let</span> greeting_file <span class="token operator">=</span> <span class="token keyword">match</span> greeting_file_result <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">        <span class="token class-name">Ok</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span> <span class="token operator">=></span> file<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="8">        <span class="token class-name">Err</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token macro property">panic!</span><span class="token punctuation">(</span><span class="token string">"Problem opening the file: {error:?}"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="9">    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10"><span class="token punctuation">}</span>
</span></code></pre> <p>Here we see if opening file succeeds then the its ok. If it fails we panic.</p> <p>We can extend this approach to handle different types of errors.</p> <pre class="language-rust"><code class="language-rust code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>fs<span class="token punctuation">::</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>io<span class="token punctuation">::</span></span><span class="token class-name">ErrorKind</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">    <span class="token keyword">let</span> greeting_file_result <span class="token operator">=</span> <span class="token class-name">File</span><span class="token punctuation">::</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7">    <span class="token keyword">let</span> greeting_file <span class="token operator">=</span> <span class="token keyword">match</span> greeting_file_result <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="8">        <span class="token class-name">Ok</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span> <span class="token operator">=></span> file<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="9">        <span class="token class-name">Err</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">match</span> error<span class="token punctuation">.</span><span class="token function">kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">            <span class="token class-name">ErrorKind</span><span class="token punctuation">::</span><span class="token class-name">NotFound</span> <span class="token operator">=></span> <span class="token keyword">match</span> <span class="token class-name">File</span><span class="token punctuation">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="11">                <span class="token class-name">Ok</span><span class="token punctuation">(</span>fc<span class="token punctuation">)</span> <span class="token operator">=></span> fc<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="12">                <span class="token class-name">Err</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token macro property">panic!</span><span class="token punctuation">(</span><span class="token string">"Problem creating the file: {e:?}"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="13">            <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="14">            other_error <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="15">                <span class="token macro property">panic!</span><span class="token punctuation">(</span><span class="token string">"Problem opening the file: {other_error:?}"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="16">            <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="17">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="18">    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="19"><span class="token punctuation">}</span>
</span></code></pre> <p>For example here if the file in not found, we try to create it and then handle the error that may occur while creating the file and if its some other error we then also panic.</p> <h3 id="shortcuts-for-panic-on-error-unwrap-and-expect">Shortcuts for Panic on Error: unwrap and expect</h3> <p>Using match works well enough, but it can be a bit verbose and doesn’t always communicate intent well. The Result enum has some helper methods defined on it to do various, more specific tasks.</p> <p>The <code>unwrap</code> method is a shortcut method implement just like the <code>match</code> expression. If the Result value is the <code>Ok</code> variant, unwrap will return the value inside the <code>Ok</code>. If the Result is the <code>Err</code> variant, unwrap will call the <code>panic!</code> macro for us.</p> <pre class="language-rust"><code class="language-rust code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>fs<span class="token punctuation">::</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword">let</span> greeting_file <span class="token operator">=</span> <span class="token class-name">File</span><span class="token punctuation">::</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5"><span class="token punctuation">}</span>
</span></code></pre> <p>Similarly, the expect method lets us also choose the panic! error message. Using expect instead of unwrap and providing good error messages can convey your intent and make tracking down the source of a panic easier.</p> <pre class="language-rust"><code class="language-rust code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>fs<span class="token punctuation">::</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword">let</span> greeting_file <span class="token operator">=</span> <span class="token class-name">File</span><span class="token punctuation">::</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="5">        <span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">"hello.txt should be included in this project"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6"><span class="token punctuation">}</span>
</span></code></pre> <h3 id="propagating-errors">Propagating errors</h3> <p>When a function’s implementation calls something that might fail, instead of handling the error within the function itself you can return the error to the calling code so that it can decide what to do. This is known as propagating the error and gives more control to the calling code, where there might be more information or logic that dictates how the error should be handled than what you have available in the context of your code.</p> <pre class="language-rust"><code class="language-rust code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>fs<span class="token punctuation">::</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>io<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token keyword">self</span><span class="token punctuation">,</span> <span class="token class-name">Read</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token keyword">fn</span> <span class="token function-definition function">read_username_from_file</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">Result</span><span class="token operator">&#x3C;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token namespace">io<span class="token punctuation">::</span></span><span class="token class-name">Error</span><span class="token operator">></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">    <span class="token keyword">let</span> username_file_result <span class="token operator">=</span> <span class="token class-name">File</span><span class="token punctuation">::</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7">    <span class="token keyword">let</span> <span class="token keyword">mut</span> username_file <span class="token operator">=</span> <span class="token keyword">match</span> username_file_result <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="8">        <span class="token class-name">Ok</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span> <span class="token operator">=></span> file<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="9">        <span class="token class-name">Err</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">return</span> <span class="token class-name">Err</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="10">    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12">    <span class="token keyword">let</span> <span class="token keyword">mut</span> username <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14">    <span class="token keyword">match</span> username_file<span class="token punctuation">.</span><span class="token function">read_to_string</span><span class="token punctuation">(</span><span class="token operator">&#x26;</span><span class="token keyword">mut</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="15">        <span class="token class-name">Ok</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token class-name">Ok</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="16">        <span class="token class-name">Err</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token class-name">Err</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="17">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="18"><span class="token punctuation">}</span>
</span></code></pre> <p>If the code succeeds without any problem the function receive and <code>Ok</code> value that hold a <code>String</code> - the username. If the function encounter any error, the calling code will receive an <code>Err</code> value that hold the instance of <code>io::Error</code> that contains info about the problem that happened here.</p> <p>The pattern of propagating errors is so common in rust that it provides a <code>?</code> operator for this.</p> <pre class="language-rust"><code class="language-rust code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>fs<span class="token punctuation">::</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>io<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token keyword">self</span><span class="token punctuation">,</span> <span class="token class-name">Read</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token keyword">fn</span> <span class="token function-definition function">read_username_from_file</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">Result</span><span class="token operator">&#x3C;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token namespace">io<span class="token punctuation">::</span></span><span class="token class-name">Error</span><span class="token operator">></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">    <span class="token keyword">let</span> <span class="token keyword">mut</span> username_file <span class="token operator">=</span> <span class="token class-name">File</span><span class="token punctuation">::</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">    <span class="token keyword">let</span> <span class="token keyword">mut</span> username <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">    username_file<span class="token punctuation">.</span><span class="token function">read_to_string</span><span class="token punctuation">(</span><span class="token operator">&#x26;</span><span class="token keyword">mut</span> username<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">    <span class="token class-name">Ok</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="9"><span class="token punctuation">}</span>
</span></code></pre> <p>The <code>?</code> operator can only be used in functions whose return type is compatible with the value the <code>?</code> is used on. This is because the <code>?</code> operator is defined to perform an early return of a value out of the function, in the same manner as the match expressions.</p> <p>The <code>?</code> operator can also used with the <code>Option&#x3C;T></code> enum. If you have a function that returns an <code>Option&#x3C;T></code>, the <code>?</code> operator can be used to automatically propagate None values. Here's how it works:</p> <ul> <li>If the value is Some(value): <ul> <li>The <code>?</code> operator unwraps the Some and returns the inner value, allowing the computation to continue.</li> </ul> </li> <li>If the value is None: <ul> <li>The <code>?</code> operator immediately returns None from the enclosing function, propagating the None upward.</li> </ul> </li> </ul> <pre class="language-rust"><code class="language-rust code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">fn</span> <span class="token function-definition function">find_username</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token keyword">u32</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">Option</span><span class="token operator">&#x3C;</span><span class="token class-name">String</span><span class="token operator">></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    <span class="token keyword">match</span> <span class="token function">find_user</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">        <span class="token class-name">Some</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token class-name">Some</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">        <span class="token class-name">None</span> <span class="token operator">=></span> <span class="token class-name">None</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="6"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token keyword">fn</span> <span class="token function-definition function">find_username</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token keyword">u32</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">Option</span><span class="token operator">&#x3C;</span><span class="token class-name">String</span><span class="token operator">></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">    <span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token function">find_user</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">    <span class="token class-name">Some</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>username<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="11"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token keyword">fn</span> <span class="token function-definition function">find_user</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token keyword">u32</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">Option</span><span class="token operator">&#x3C;</span><span class="token class-name">User</span><span class="token operator">></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="14">    <span class="token comment">// Simulate a database lookup</span>
</span><span class="code-line line-number" line="15">    <span class="token keyword">if</span> id <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="16">        <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token class-name">User</span> <span class="token punctuation">{</span> username<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"Alice"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="17">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="18">        <span class="token class-name">None</span>
</span><span class="code-line line-number" line="19">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="20"><span class="token punctuation">}</span>
</span></code></pre> <h3 id="to-panic-or-not-panic">To Panic or not panic</h3> <h4 id="when-to-use-panic">When to Use panic!:</h4> <ul> <li>Unrecoverable Errors: Use panic! when an error is unrecoverable, such as when a program enters a "bad state" (e.g., invalid values, broken invariants, or unsafe conditions).</li> <li>Examples, Prototypes, and Tests: In examples, prototypes, and tests, panic! (via unwrap or expect) is acceptable for simplicity, as robust error handling can obscure the main point.</li> <li>Logical Guarantees: Use panic! when you have logical guarantees that an error cannot occur (e.g., hardcoded valid values), even if the compiler cannot verify it.</li> <li>Safety and Security: Panic when invalid inputs could lead to unsafe or harmful behavior, such as out-of-bounds memory access.</li> </ul> <h4 id="when-to-use-result">When to Use Result:</h4> <ul> <li>Recoverable Errors: Use Result for errors that the calling code might recover from, such as parsing malformed data or handling rate limits.</li> <li>Default Choice: Returning Result is the default choice for functions that might fail, as it allows the caller to decide how to handle errors.</li> </ul> <h4 id="guidelines-for-error-handling">Guidelines for Error Handling:</h4> <ul> <li>Bad State: Panic when the program enters a bad state (e.g., invalid inputs, broken invariants) and recovery is not feasible.</li> <li>Expected Failures: Use Result for expected failures, such as user input errors or network issues.</li> <li>Type System: Leverage Rust’s type system (e.g., Option, u32) to enforce valid values at compile time, reducing the need for runtime checks.</li> </ul> <h4 id="custom-types-for-validation">Custom Types for Validation:</h4> <ul> <li>Encapsulate Validation: Create custom types (e.g., a Guess type for values between 1 and 100) to enforce validation rules and avoid repetitive checks.</li> <li>Private Fields: Use private fields to ensure values are only set through controlled constructors that enforce validation.</li> </ul> <pre class="language-rust"><code class="language-rust code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">Guess</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    value<span class="token punctuation">:</span> <span class="token keyword">i32</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="3"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token keyword">impl</span> <span class="token class-name">Guess</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="6">    <span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">new</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token keyword">i32</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">Guess</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">        <span class="token keyword">if</span> value <span class="token operator">&#x3C;</span> <span class="token number">1</span> <span class="token operator">||</span> value <span class="token operator">></span> <span class="token number">100</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="8">            <span class="token macro property">panic!</span><span class="token punctuation">(</span><span class="token string">"Guess value must be between 1 and 100, got {value}."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="9">        <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="10">        <span class="token class-name">Guess</span> <span class="token punctuation">{</span> value <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="11">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13">    <span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">value</span><span class="token punctuation">(</span><span class="token operator">&#x26;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token keyword">i32</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="14">        <span class="token keyword">self</span><span class="token punctuation">.</span>value
</span><span class="code-line line-number" line="15">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="16"><span class="token punctuation">}</span>
</span></code></pre> <p>This Guess type ensures values are always within the valid range, panicking if not, and encapsulates the validation logic.</p> </article> </div> </div> </div> <div class="container-right"> <h3 class="table-of-content">Table of Contents</h3> <div class="container-right-inner"> <nav class="toc"><ul><ul><li class="toc-level-2"><a href="#error-handling">Error Handling</a><ul><li class="toc-level-3"><a href="#unrecoverable-error">Unrecoverable Error</a></li><li class="toc-level-3"><a href="#recoverable-error">Recoverable Error</a></li><li class="toc-level-3"><a href="#shortcuts-for-panic-on-error-unwrap-and-expect">Shortcuts for Panic on Error: unwrap and expect</a></li><li class="toc-level-3"><a href="#propagating-errors">Propagating errors</a></li><li class="toc-level-3"><a href="#to-panic-or-not-panic">To Panic or not panic</a><ul><li class="toc-level-4"><a href="#when-to-use-panic">When to Use panic!:</a></li><li class="toc-level-4"><a href="#when-to-use-result">When to Use Result:</a></li><li class="toc-level-4"><a href="#guidelines-for-error-handling">Guidelines for Error Handling:</a></li><li class="toc-level-4"><a href="#custom-types-for-validation">Custom Types for Validation:</a></li></ul></li></ul></li></ul></ul></nav> </div> </div> </div> </div> <div class="keybinding"> <ul></ul> </div> <div class="search-dialog" id="search-dialog"> <div class="search-dialog-content"> <input type="text" id="search-input" placeholder="search..." autocomplete="off"/> <button class="close-search" onclick="closeSearch()" aria-label="Close Search"><i class="ph ph-x"></i></button> <div id="search-results" class="search-results"></div> </div> </div> <script>let searchIndex=[],fuse=null,searchInitialized=!1,searchInitializing=!1,selectedResultIndex=-1,lastQuery="";function keybindingInitialize(){let n=document.querySelector(".keybinding ul");var e;n&&(n.innerHTML="",[{key:"j",desc:"Scroll down"},{key:"k",desc:"Scroll up"},{key:"gg/Home",desc:"Scroll to top"},{key:"Shift+G/End",desc:"Scroll to bottom"},{key:"Ctrl+D",desc:"Scroll half screen down"},{key:"Ctrl+U",desc:"Scroll half screen up"},{key:"Shift+T",desc:"Toggle theme"},{key:"/",desc:"Open search"},{key:"Esc",desc:"Clear focus/close help"},{key:"Shift+H",desc:"Toggle this help"}].forEach(e=>{var t=document.createElement("li");t.textContent=e.key+" - "+e.desc,n.appendChild(t)}),document.querySelector(".keybinding").classList.add("hidden"),(e=document.createElement("h4")).textContent="Keyboard Shortcuts",n.parentNode.insertBefore(e,n))}function printPage(){var e=document.querySelector(".content-container");html2pdf(e)}function debounce(t,n){let a;return function(...e){clearTimeout(a),a=setTimeout(()=>t.apply(this,e),n)}}function initializeFileTree(e){var n=document.getElementById("file-tree");if(n){let s="fileTreeExpandedState",l=new Map(JSON.parse(localStorage.getItem(s))||[]),t=document.createElement("ul");function d(n,e=""){var a=document.createElement("ul"),i=document.createElement("li");i.classList.add(n.type),a.appendChild(i);let r=e?e+"/"+n.name:n.name;if("directory"===n.type&&0<n.children.length){a=document.createElement("div"),e=(a.classList.add("directory-wrapper"),a.style.display="flex",a.style.alignItems="center",document.createElement("i")),e=(e.setAttribute("class","ph ph-caret-right directory-arrow"),a.appendChild(e),document.createElement("span"));e.setAttribute("class","dirname"),e.textContent=n.name.replaceAll("_"," ").replaceAll("-"," ").replace(".md",""),a.appendChild(e),i.appendChild(a);let t=document.createElement("ul");l.get(r)||!1?i.classList.add("open"):t.classList.add("collapsed"),n.children.forEach(e=>{e=d(e,r);t.appendChild(e)}),a.addEventListener("click",function(e){e.stopPropagation();var e=this.parentNode,t=e.classList.toggle("open");e.querySelector("ul").classList.toggle("collapsed"),l.set(r,t),localStorage.setItem(s,JSON.stringify([...l]))}),i.appendChild(t)}else"file"===n.type&&(i.textContent=n.name.replace(".md",""),i.addEventListener("click",function(e){e.stopPropagation();e=n.path.replace(/\.md$/,".html");window.location.href="/"+e}));return i}e.forEach(e=>{t.appendChild(d(e))}),n.appendChild(t)}}function toggleNav(){document.querySelector(".sidebar").classList.toggle("open")}function openSearch(){searchInitialized||searchInitializing||initializeSearch(),document.querySelector(".search-dialog").classList.add("open"),setTimeout(()=>{document.getElementById("search-input").focus()},100)}function closeSearch(){document.getElementById("search-dialog").classList.remove("open"),document.getElementById("search-input").value="",lastQuery="",selectedResultIndex=-1,document.getElementById("search-results").innerHTML=""}function toggleTheme(e=!1){let t=localStorage.getItem("theme");t||(t="dark",localStorage.setItem("theme","dark")),e&&(t="dark"===t?"light":"dark",localStorage.setItem("theme",t));e=document.body;"dark"===t?(e.classList.remove("light"),e.classList.add("dark")):"light"===t&&(e.classList.remove("dark"),e.classList.add("light"))}function initializeCopyButton(){document.querySelectorAll(".content-container-inner pre").forEach(t=>{let n=document.createElement("button");n.textContent="Copy",n.classList.add("copy-button"),n.addEventListener("click",()=>{var e=t.querySelector("code")?.textContent||t.textContent;navigator.clipboard.writeText(e).then(()=>{n.textContent="Copied!",setTimeout(()=>{n.textContent="Copy"},2e3)}).catch(e=>{console.error("Failed to copy:",e),n.textContent="Error!",setTimeout(()=>{n.textContent="Copy"},2e3)})}),t.appendChild(n)})}function toggleKeyHints(){var e=document.querySelector(".keybinding");e&&e.classList.toggle("hidden")}function extractNameFromUrl(e){return e?((e=e.split("/").filter(Boolean))[e.length-1]||"").replace(/\.html$|\.md$/,"").replace(/[-_]/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"Untitled"}function updateSelectedResult(e,t){var n=document.querySelectorAll(".result-item");0!==n.length&&(selectedResultIndex=Math.max(0,Math.min(e,t-1)),n.forEach((e,t)=>{e.classList.toggle("selected",t===selectedResultIndex),t===selectedResultIndex&&e.scrollIntoView({block:"nearest",behavior:"smooth"})}))}document.addEventListener("DOMContentLoaded",async function(){try{initializeFileTree(JSON.parse('[{"name":"Cheat_Sheets","path":"Cheat_Sheets","type":"directory","children":[{"name":"ansi_color_codes.md","path":"Cheat_Sheets/ansi_color_codes.md","type":"file","children":[]},{"name":"Git.md","path":"Cheat_Sheets/Git.md","type":"file","children":[]},{"name":"ssh_android_to_pc.md","path":"Cheat_Sheets/ssh_android_to_pc.md","type":"file","children":[]}]},{"name":"Courses","path":"Courses","type":"directory","children":[{"name":"Boot_Dev","path":"Courses/Boot_Dev","type":"directory","children":[{"name":"HTTP.md","path":"Courses/Boot_Dev/HTTP.md","type":"file","children":[]}]},{"name":"CSES","path":"Courses/CSES","type":"directory","children":[{"name":"Complete_Search.md","path":"Courses/CSES/Complete_Search.md","type":"file","children":[]},{"name":"Data_Structures.md","path":"Courses/CSES/Data_Structures.md","type":"file","children":[]}]},{"name":"Data_Structures_and_algorithms","path":"Courses/Data_Structures_and_algorithms","type":"directory","children":[{"name":"backtracking.md","path":"Courses/Data_Structures_and_algorithms/backtracking.md","type":"file","children":[]},{"name":"linear_data_structure.md","path":"Courses/Data_Structures_and_algorithms/linear_data_structure.md","type":"file","children":[]},{"name":"tree.md","path":"Courses/Data_Structures_and_algorithms/tree.md","type":"file","children":[]}]},{"name":"Languages","path":"Courses/Languages","type":"directory","children":[{"name":"Go","path":"Courses/Languages/Go","type":"directory","children":[{"name":"go.md","path":"Courses/Languages/Go/go.md","type":"file","children":[]}]},{"name":"Java","path":"Courses/Languages/Java","type":"directory","children":[{"name":"Containers.md","path":"Courses/Languages/Java/Containers.md","type":"file","children":[]},{"name":"Data_Types.md","path":"Courses/Languages/Java/Data_Types.md","type":"file","children":[]},{"name":"Expression_Statements.md","path":"Courses/Languages/Java/Expression_Statements.md","type":"file","children":[]},{"name":"Garbage_Collection.md","path":"Courses/Languages/Java/Garbage_Collection.md","type":"file","children":[]},{"name":"Interfaces.md","path":"Courses/Languages/Java/Interfaces.md","type":"file","children":[]},{"name":"intro.md","path":"Courses/Languages/Java/intro.md","type":"file","children":[]},{"name":"JVM.md","path":"Courses/Languages/Java/JVM.md","type":"file","children":[]},{"name":"OOP_Concepts.md","path":"Courses/Languages/Java/OOP_Concepts.md","type":"file","children":[]},{"name":"Operators.md","path":"Courses/Languages/Java/Operators.md","type":"file","children":[]}]},{"name":"Javascript","path":"Courses/Languages/Javascript","type":"directory","children":[{"name":"javascript.md","path":"Courses/Languages/Javascript/javascript.md","type":"file","children":[]}]},{"name":"Rust","path":"Courses/Languages/Rust","type":"directory","children":[{"name":"Async.md","path":"Courses/Languages/Rust/Async.md","type":"file","children":[]},{"name":"Collections.md","path":"Courses/Languages/Rust/Collections.md","type":"file","children":[]},{"name":"Concurrency.md","path":"Courses/Languages/Rust/Concurrency.md","type":"file","children":[]},{"name":"Enums.md","path":"Courses/Languages/Rust/Enums.md","type":"file","children":[]},{"name":"Error.md","path":"Courses/Languages/Rust/Error.md","type":"file","children":[]},{"name":"Functional.md","path":"Courses/Languages/Rust/Functional.md","type":"file","children":[]},{"name":"Generics.md","path":"Courses/Languages/Rust/Generics.md","type":"file","children":[]},{"name":"lifetimes.md","path":"Courses/Languages/Rust/lifetimes.md","type":"file","children":[]},{"name":"OOP.md","path":"Courses/Languages/Rust/OOP.md","type":"file","children":[]},{"name":"Ownership.md","path":"Courses/Languages/Rust/Ownership.md","type":"file","children":[]},{"name":"Packaging.md","path":"Courses/Languages/Rust/Packaging.md","type":"file","children":[]},{"name":"Rust_Basics.md","path":"Courses/Languages/Rust/Rust_Basics.md","type":"file","children":[]},{"name":"Smart_Pointers.md","path":"Courses/Languages/Rust/Smart_Pointers.md","type":"file","children":[]},{"name":"Structs.md","path":"Courses/Languages/Rust/Structs.md","type":"file","children":[]},{"name":"Test.md","path":"Courses/Languages/Rust/Test.md","type":"file","children":[]},{"name":"Traits.md","path":"Courses/Languages/Rust/Traits.md","type":"file","children":[]}]}]},{"name":"System_Design","path":"Courses/System_Design","type":"directory","children":[{"name":"Introduction.md","path":"Courses/System_Design/Introduction.md","type":"file","children":[]}]},{"name":"Web_Dev","path":"Courses/Web_Dev","type":"directory","children":[{"name":"Redis","path":"Courses/Web_Dev/Redis","type":"directory","children":[{"name":"redis-cli.md","path":"Courses/Web_Dev/Redis/redis-cli.md","type":"file","children":[]},{"name":"redis.md","path":"Courses/Web_Dev/Redis/redis.md","type":"file","children":[]}]}]}]},{"name":"Miscellaneous","path":"Miscellaneous","type":"directory","children":[{"name":"Self-Hosting Bitwarden.md","path":"Miscellaneous/Self-Hosting Bitwarden.md","type":"file","children":[]},{"name":"The_Caret_Conundrum.md","path":"Miscellaneous/The_Caret_Conundrum.md","type":"file","children":[]}]},{"name":"University","path":"University","type":"directory","children":[{"name":"Computer_Networks","path":"University/Computer_Networks","type":"directory","children":[{"name":"Module_1","path":"University/Computer_Networks/Module_1","type":"directory","children":[{"name":"bandwidth_and_multiplexing.md","path":"University/Computer_Networks/Module_1/bandwidth_and_multiplexing.md","type":"file","children":[]},{"name":"Data.md","path":"University/Computer_Networks/Module_1/Data.md","type":"file","children":[]},{"name":"OSI_model.md","path":"University/Computer_Networks/Module_1/OSI_model.md","type":"file","children":[]},{"name":"Protocols_and_Standards.md","path":"University/Computer_Networks/Module_1/Protocols_and_Standards.md","type":"file","children":[]},{"name":"Topologies.md","path":"University/Computer_Networks/Module_1/Topologies.md","type":"file","children":[]},{"name":"Transmission_Media.md","path":"University/Computer_Networks/Module_1/Transmission_Media.md","type":"file","children":[]},{"name":"Wired_LAN.md","path":"University/Computer_Networks/Module_1/Wired_LAN.md","type":"file","children":[]},{"name":"Wireless_LAN.md","path":"University/Computer_Networks/Module_1/Wireless_LAN.md","type":"file","children":[]}]},{"name":"Module_2","path":"University/Computer_Networks/Module_2","type":"directory","children":[{"name":"Error_Detection_and_Correction.md","path":"University/Computer_Networks/Module_2/Error_Detection_and_Correction.md","type":"file","children":[]},{"name":"Flow_Control.md","path":"University/Computer_Networks/Module_2/Flow_Control.md","type":"file","children":[]},{"name":"Multiple_Access_protocols.md","path":"University/Computer_Networks/Module_2/Multiple_Access_protocols.md","type":"file","children":[]}]},{"name":"Module_3","path":"University/Computer_Networks/Module_3","type":"directory","children":[{"name":"Address_Mapping.md","path":"University/Computer_Networks/Module_3/Address_Mapping.md","type":"file","children":[]},{"name":"Congestion_Control.md","path":"University/Computer_Networks/Module_3/Congestion_Control.md","type":"file","children":[]},{"name":"Delivery.md","path":"University/Computer_Networks/Module_3/Delivery.md","type":"file","children":[]},{"name":"Process_To_Process_Delivery.md","path":"University/Computer_Networks/Module_3/Process_To_Process_Delivery.md","type":"file","children":[]},{"name":"Routing Protocols.md","path":"University/Computer_Networks/Module_3/Routing Protocols.md","type":"file","children":[]}]}]},{"name":"Data_Mining","path":"University/Data_Mining","type":"directory","children":[{"name":"Module_1","path":"University/Data_Mining/Module_1","type":"directory","children":[{"name":"Data Mining.md","path":"University/Data_Mining/Module_1/Data Mining.md","type":"file","children":[]},{"name":"Data Preprocessing.md","path":"University/Data_Mining/Module_1/Data Preprocessing.md","type":"file","children":[]},{"name":"Intro.md","path":"University/Data_Mining/Module_1/Intro.md","type":"file","children":[]},{"name":"KDD.md","path":"University/Data_Mining/Module_1/KDD.md","type":"file","children":[]},{"name":"OLAP.md","path":"University/Data_Mining/Module_1/OLAP.md","type":"file","children":[]},{"name":"WareHouse_Schema.md","path":"University/Data_Mining/Module_1/WareHouse_Schema.md","type":"file","children":[]}]},{"name":"Module_2","path":"University/Data_Mining/Module_2","type":"directory","children":[{"name":"Advanced Pattern Mining.md","path":"University/Data_Mining/Module_2/Advanced Pattern Mining.md","type":"file","children":[]},{"name":"Association Rule Mining.md","path":"University/Data_Mining/Module_2/Association Rule Mining.md","type":"file","children":[]},{"name":"Associations and Correlations.md","path":"University/Data_Mining/Module_2/Associations and Correlations.md","type":"file","children":[]},{"name":"Cluster Analysis.md","path":"University/Data_Mining/Module_2/Cluster Analysis.md","type":"file","children":[]},{"name":"Clustering with constriants.md","path":"University/Data_Mining/Module_2/Clustering with constriants.md","type":"file","children":[]},{"name":"Density Based Methods.md","path":"University/Data_Mining/Module_2/Density Based Methods.md","type":"file","children":[]},{"name":"Frequent Pattern Mining.md","path":"University/Data_Mining/Module_2/Frequent Pattern Mining.md","type":"file","children":[]},{"name":"Hierarchical Methods.md","path":"University/Data_Mining/Module_2/Hierarchical Methods.md","type":"file","children":[]},{"name":"Outlier Detection.md","path":"University/Data_Mining/Module_2/Outlier Detection.md","type":"file","children":[]},{"name":"Sequential Pattern mining.md","path":"University/Data_Mining/Module_2/Sequential Pattern mining.md","type":"file","children":[]},{"name":"Similarity and Distance Measure.md","path":"University/Data_Mining/Module_2/Similarity and Distance Measure.md","type":"file","children":[]}]}]},{"name":"Economics","path":"University/Economics","type":"directory","children":[{"name":"Module_1.md","path":"University/Economics/Module_1.md","type":"file","children":[]},{"name":"Module_3.md","path":"University/Economics/Module_3.md","type":"file","children":[]}]},{"name":"OOP","path":"University/OOP","type":"directory","children":[{"name":"Module_1","path":"University/OOP/Module_1","type":"directory","children":[{"name":"Basic_Concepts.md","path":"University/OOP/Module_1/Basic_Concepts.md","type":"file","children":[]},{"name":"Intro.md","path":"University/OOP/Module_1/Intro.md","type":"file","children":[]}]},{"name":"Module_3","path":"University/OOP/Module_3","type":"directory","children":[{"name":"Exceptions.md","path":"University/OOP/Module_3/Exceptions.md","type":"file","children":[]},{"name":"Interfaces.md","path":"University/OOP/Module_3/Interfaces.md","type":"file","children":[]},{"name":"Packages.md","path":"University/OOP/Module_3/Packages.md","type":"file","children":[]},{"name":"Threads.md","path":"University/OOP/Module_3/Threads.md","type":"file","children":[]}]},{"name":"Module_4","path":"University/OOP/Module_4","type":"directory","children":[{"name":"IO.md","path":"University/OOP/Module_4/IO.md","type":"file","children":[]},{"name":"Strings.md","path":"University/OOP/Module_4/Strings.md","type":"file","children":[]},{"name":"Swing.md","path":"University/OOP/Module_4/Swing.md","type":"file","children":[]}]},{"name":"Module_1.md","path":"University/OOP/Module_1.md","type":"file","children":[]}]}]},{"name":"index.md","path":"index.md","type":"file","children":[]}]'))}catch(e){console.error("Error parsing file tree:",e)}toggleTheme(),initializeCopyButton(),toggleKeyHints(),keybindingInitialize(),initializeSearch();var e=document.getElementById("search-input");e.addEventListener("input",handleSearch),e.addEventListener("keydown",function(e){"Escape"===e.key&&closeSearch()})}),document.getElementById("search-input").addEventListener("keydown",function(e){var t=document.querySelectorAll(".result-item");if(t.length)switch(e.key){case"ArrowDown":e.preventDefault(),updateSelectedResult(selectedResultIndex+1,t.length);break;case"ArrowUp":e.preventDefault(),updateSelectedResult(selectedResultIndex-1,t.length);break;case"Enter":e.preventDefault(),0<=selectedResultIndex&&t[selectedResultIndex].querySelector("a").click();break;case"Escape":e.preventDefault(),closeSearch()}}),document.getElementById("search-dialog").addEventListener("click",function(e){e.target===this&&closeSearch()}),document.addEventListener("keydown",function(e){if("INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&!e.target.isContentEditable){var t=e.key.toLowerCase();switch(window.lastGPress||(window.lastGPress={count:0,time:0}),t){case"j":e.preventDefault(),window.scrollBy(0,50);break;case"k":e.preventDefault(),window.scrollBy(0,-50);break;case"g":e.shiftKey?(e.preventDefault(),window.scrollTo(0,document.body.scrollHeight)):(n=Date.now())-window.lastGPress.time<500&&1===window.lastGPress.count?(e.preventDefault(),window.scrollTo(0,0),window.lastGPress.count=0):(window.lastGPress.count=1,window.lastGPress.time=n);break;case"u":e.ctrlKey&&(e.preventDefault(),window.scrollBy(0,-window.innerHeight/2));break;case"d":e.ctrlKey&&(e.preventDefault(),window.scrollBy(0,window.innerHeight/2));break;case"r":e.ctrlKey&&(e.preventDefault(),window.location.reload());break;case"/":e.preventDefault(),openSearch();break;case"escape":document.activeElement&&document.activeElement.blur();var n=document.querySelector(".keybinding");n&&!n.classList.contains("hidden")&&n.classList.add("hidden"),closeSearch();break;case"home":e.preventDefault(),window.scrollTo(0,0);break;case"end":e.preventDefault(),window.scrollTo(0,document.body.scrollHeight);break;case"h":e.shiftKey&&(e.preventDefault(),toggleKeyHints());break;case"t":e.shiftKey&&(e.preventDefault(),toggleTheme(!0))}}}),document.getElementById("search-dialog").addEventListener("click",function(e){e.target===this&&closeSearch()});let debouncedHandleSearch=debounce(function(e){let t=e.target.value.trim();var n=document.getElementById("search-results");t!==lastQuery&&((lastQuery=t)?searchInitialized?fuse&&searchIndex.length?displaySearchResults(fuse.search(t),t,n):(n.innerHTML='<p class="search-error">Search unavailable. Retrying...</p>',initializeSearch().then(()=>t&&handleSearch(e))):(n.innerHTML='<p class="search-loading">Search is initializing...</p>',searchInitializing||initializeSearch().then(()=>t&&handleSearch(e))):n.innerHTML='<p class="search-ready">Type to start searching...</p>')},300);function displaySearchResults(e,s,l){var t,n;l.innerHTML="",selectedResultIndex=-1,e.length?(t=Math.min(e.length,10),e.slice(0,t).forEach((e,t)=>{var n=e.item,e=e.matches||[],a=document.createElement("div"),t=(a.className="result-item",a.dataset.index=t,document.createElement("a")),i=(t.href=n.url,t.className="result-link",t.addEventListener("click",closeSearch),document.createElement("div")),r=(i.className="result-title",n.name||extractNameFromUrl(n.url)),r=(i.innerHTML=highlightMatch(r,e.filter(e=>"name"===e.key)),document.createElement("div"));r.className="result-snippet",r.innerHTML=n.content?generateSnippet(n.content,s):"No preview available",t.appendChild(i),t.appendChild(r),a.appendChild(t),l.appendChild(a)}),e.length>t&&((n=document.createElement("p")).className="search-show-more",n.textContent=`Showing ${t} of ${e.length} results.`,l.appendChild(n))):l.innerHTML='<p class="no-results">No results found.</p>'}function handleSearch(e){debouncedHandleSearch(e)}async function initializeSearch(){if(!searchInitializing){searchInitializing=!0;var t=document.getElementById("search-results");try{console.log("Initializing search..."),t&&(t.innerHTML='<p class="search-loading">Loading search index...</p>');var e=await fetch("/static/search-index.json");if(!e.ok)throw new Error("Failed to fetch search index: "+e.status);var n,a=await e.json();if(!Array.isArray(a))throw new Error("Invalid search index format");searchIndex=a,fuse=new Fuse(searchIndex,{keys:[{name:"name",weight:.5},{name:"content",weight:.3},{name:"tags",weight:.2}],threshold:.3,distance:200,includeScore:!0,includeMatches:!0,useExtendedSearch:!0,ignoreLocation:!1,minMatchCharLength:2,shouldSort:!0}),console.log("Search initialized with",searchIndex.length,"items"),searchInitialized=!0,t&&document.querySelector(".search-dialog").classList.contains("open")&&(t.innerHTML='<p class="search-ready">Type to start searching...</p>',(n=document.getElementById("search-input"))?.value.trim())&&handleSearch({target:n})}catch(e){console.error("Search init failed:",e),searchInitialized=!1,t&&(t.innerHTML=`
                <p class="search-error">Failed to load search: ${e.message}</p>
                <button class="retry-button" onclick="initializeSearch()">Retry</button>`)}finally{searchInitializing=!1}}}function highlightMatch(n,e){if(!e||!e.length)return n;let a=n;return e.forEach(e=>{var t=e.indices[0][0],e=e.indices[0][1]+1,t=n.slice(t,e);a=a.replace(t,`<mark>${t}</mark>`)}),a}function generateSnippet(e,t,n=100){var a=e.toLowerCase(),i=t.toLowerCase(),a=a.indexOf(i),i=Math.max(0,a-50);let r=e.slice(i,i+n);return(r=0<i?"..."+r:r).length<e.length&&(r+="..."),highlightMatch(r,[{indices:[[a-i,a-i+t.length-1]]}])}</script> </body> </html> 